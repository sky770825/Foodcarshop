# 🚀 系統功能增強建議與實作計劃

## 📊 當前已完成功能

✅ 多場地管理  
✅ 商品圖片顯示  
✅ 庫存管理  
✅ 價格與優惠系統  
✅ 場地工作表自動同步  
✅ 訂單修改功能  
✅ 統計報表  

---

## 🎯 建議新增功能（按優先級排序）

### 【高優先級】必須功能

#### 1️⃣ **商品排序功能** ⭐⭐⭐⭐⭐
**問題：** 商品顯示順序無法控制，熱銷商品可能被埋在後面

**解決方案：**
- 新增 **K 欄：排序順序**（數字，越小越前面）
- 例如：1, 2, 3...
- 前端按照排序數字顯示商品

**實作範例：**
| A 欄 | K 欄（排序）| 說明 |
|------|------------|------|
| 六蒜包 | **1** | 最前面顯示 |
| 丹麥手撕包 | **2** | 第二個顯示 |
| 千層吐司 | **10** | 後面顯示 |

---

#### 2️⃣ **推薦標籤** ⭐⭐⭐⭐⭐
**問題：** 無法突出熱銷、新品、招牌商品

**解決方案：**
- 新增 **L 欄：推薦標籤**
- 選項：`熱銷`、`新品`、`招牌`、`限量`、`推薦`
- 顯示在商品卡片右上角（金色徽章）

**實作範例：**
| A 欄 | L 欄（推薦標籤）| 顯示效果 |
|------|---------------|---------|
| 六蒜包 | 熱銷 | 🔥 熱銷（右上角金色） |
| 新品蛋塔 | 新品 | ✨ 新品（右上角綠色） |
| 招牌包子 | 招牌 | 👑 招牌（右上角紫色） |

---

#### 3️⃣ **商品描述** ⭐⭐⭐⭐
**問題：** 客戶只看到商品名稱，不知道商品特色

**解決方案：**
- 新增 **M 欄：商品描述**
- 簡短說明（20-30字）
- 點擊圖片時顯示詳細資訊

**實作範例：**
| A 欄 | M 欄（商品描述）|
|------|---------------|
| 六蒜包 | 酥脆外皮，濃郁蒜香，招牌熱銷商品 |
| 千層吐司 | 手工千層，入口即化，奶香四溢 |

---

#### 4️⃣ **最低消費金額** ⭐⭐⭐⭐
**問題：** 可能出現訂單金額太低（例如只訂1個$20）

**解決方案：**
- 在「系統設定」工作表中新增「最低消費金額」
- 例如：最低消費 $100
- 送出訂單時檢查，不足則提示

**實作範例：**
```javascript
if (total < 100) {
  alert('訂單金額至少需要 $100，目前 $' + total);
  return;
}
```

---

#### 5️⃣ **每日限量提示** ⭐⭐⭐⭐
**問題：** 無法顯示「每日限量」製造稀缺感

**解決方案：**
- 新增 **N 欄：每日限量**
- 填入數字（例如：20）表示每日限量 20 份
- 在商品卡片顯示「每日限量 20 份」

**實作範例：**
| A 欄 | C 欄（庫存）| N 欄（每日限量）| 顯示 |
|------|------------|----------------|------|
| 限量蛋塔 | 5 | 20 | ⏰ 每日限量 20 份 |

---

### 【中優先級】增強功能

#### 6️⃣ **營業時間控制** ⭐⭐⭐
**問題：** 非營業時間也能下單

**解決方案：**
- 在「場地清單」新增「營業時間」欄位
- 例如：`10:00-20:00`
- 非營業時間顯示「休息中」，禁止下單

---

#### 7️⃣ **預訂時間限制** ⭐⭐⭐
**問題：** 客戶可能訂10分鐘後就要取餐（來不及製作）

**解決方案：**
- 在「系統設定」新增「最短預訂時間」
- 例如：至少提前 30 分鐘
- 下單時檢查取餐時間是否符合

---

#### 8️⃣ **商品組合/套餐** ⭐⭐⭐
**問題：** 無法設定組合優惠（例如：3個包子+1杯飲料 = $100）

**解決方案：**
- 新增「套餐設定」工作表
- 設定套餐內容和價格
- 前端顯示套餐選項

---

#### 9️⃣ **起訂量設置** ⭐⭐⭐
**問題：** 某些商品需要最少購買數量（例如：吐司至少買2條）

**解決方案：**
- 新增 **O 欄：最少購買數量**
- 填入數字（例如：2）
- 下單時檢查數量是否符合

---

#### 🔟 **商品過敏原標示** ⭐⭐⭐
**問題：** 客戶可能有過敏問題

**解決方案：**
- 新增 **P 欄：過敏原**
- 例如：`含麩質、蛋、奶`
- 在商品詳情顯示

---

### 【低優先級】進階功能

#### 1️⃣1️⃣ **會員系統** ⭐⭐
- 會員價格
- 積分累積
- 優惠券

#### 1️⃣2️⃣ **訂單追蹤** ⭐⭐
- 訂單狀態（已接單、製作中、已完成）
- LINE 通知

#### 1️⃣3️⃣ **商品評價** ⭐⭐
- 客戶評分
- 評論管理

#### 1️⃣4️⃣ **配送費設置** ⭐⭐
- 根據場地收取不同配送費
- 滿額免配送費

---

## 🎯 立即實作建議（優先前5項）

### **第一階段：立即實作（今天）**

#### ✅ 1. 商品排序功能（K 欄）
```
工作表新增：K 欄 = 排序順序（數字）
後端讀取：第 11 個欄位
前端處理：products.sort((a, b) => a.sortOrder - b.sortOrder)
```

#### ✅ 2. 推薦標籤（L 欄）
```
工作表新增：L 欄 = 推薦標籤（熱銷/新品/招牌）
後端讀取：第 12 個欄位
前端顯示：右上角徽章
```

#### ✅ 3. 商品描述（M 欄）
```
工作表新增：M 欄 = 商品描述
後端讀取：第 13 個欄位
前端顯示：點擊查看詳情
```

#### ✅ 4. 最低消費金額
```
系統設定：最低消費 = 100
前端檢查：送出訂單時驗證
```

#### ✅ 5. 每日限量提示（N 欄）
```
工作表新增：N 欄 = 每日限量數量
後端讀取：第 14 個欄位
前端顯示：商品卡片下方
```

---

### **第二階段：本週實作**

#### ✅ 6. 營業時間控制
#### ✅ 7. 預訂時間限制
#### ✅ 8. 起訂量設置

---

### **第三階段：未來規劃**

#### ✅ 9-14. 進階功能（會員、評價、配送費等）

---

## 📊 完整工作表結構（含新增欄位）

### **場地庫存工作表完整結構：**

| 欄位 | 說明 | 範例 | 必填 | 新增 |
|------|------|------|------|------|
| A | 商品名稱 | 六蒜包 | ✅ | |
| B | 類型 | main / side | ✅ | |
| C | 當前庫存 | 10 | ✅ | |
| D | 初始庫存 | 20 | ✅ | |
| E | 狀態 | 正常 / 暫停 | ✅ | |
| F | 分類 | 主食 / 配菜 | ✅ | |
| G | 圖片網址 | https://... | ⚠️ | |
| H | 原價 | 30 | ⚠️ | |
| I | 優惠價 | 25 | ⭐ | |
| J | 優惠標籤 | 限時特價 | ⭐ | |
| **K** | **排序順序** | 1 | ⭐ | 🆕 |
| **L** | **推薦標籤** | 熱銷 | ⭐ | 🆕 |
| **M** | **商品描述** | 酥脆外皮... | ⭐ | 🆕 |
| **N** | **每日限量** | 20 | ⭐ | 🆕 |
| **O** | **最少購買** | 2 | ⭐ | 🆕 |
| **P** | **過敏原** | 含麩質、蛋 | ⭐ | 🆕 |

---

## 💻 實作代碼範例

### **後端讀取新欄位：**

```javascript
const [name, type, currentStock, initialStock, status, category, 
       imageUrl, originalPrice, salePrice, saleLabel,
       sortOrder, recommendTag, description, dailyLimit, minOrder, allergens] = data[i];

inventory[name] = {
  // ... 現有欄位 ...
  sortOrder: sortOrder || 999,           // K 欄：排序（預設最後）
  recommendTag: recommendTag || '',      // L 欄：推薦標籤
  description: description || '',        // M 欄：商品描述
  dailyLimit: dailyLimit || 0,           // N 欄：每日限量
  minOrder: minOrder || 1,               // O 欄：最少購買
  allergens: allergens || ''             // P 欄：過敏原
};
```

### **前端顯示推薦標籤：**

```javascript
// 推薦標籤顏色映射
const tagColors = {
  '熱銷': { bg: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)', emoji: '🔥' },
  '新品': { bg: 'linear-gradient(135deg, #10b981 0%, #059669 100%)', emoji: '✨' },
  '招牌': { bg: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', emoji: '👑' },
  '限量': { bg: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)', emoji: '⏰' },
  '推薦': { bg: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)', emoji: '⭐' }
};

if (item.recommendTag && tagColors[item.recommendTag]) {
  const tag = tagColors[item.recommendTag];
  recommendTagHTML = `
    <div style="
      position:absolute;
      top:6px;
      right:6px;
      background:${tag.bg};
      color:#fff;
      padding:4px 8px;
      border-radius:6px;
      font-size:11px;
      font-weight:700;
      z-index:10;
    ">${tag.emoji} ${item.recommendTag}</div>
  `;
}
```

### **前端商品排序：**

```javascript
// 生成商品列表前先排序
products.sort((a, b) => {
  const orderA = a.sortOrder || 999;
  const orderB = b.sortOrder || 999;
  return orderA - orderB;
});

generateProducts(products);
```

---

## 🎯 實作優先級建議

### **今天必須做（30分鐘）：**
1. ✅ 商品排序（K 欄）
2. ✅ 推薦標籤（L 欄）

### **本週完成（2小時）：**
3. ✅ 商品描述（M 欄）
4. ✅ 最低消費金額
5. ✅ 每日限量（N 欄）

### **未來規劃（視需求）：**
6. 營業時間控制
7. 起訂量設置
8. 商品組合套餐
9. 會員系統

---

## 📞 需要協助？

我可以立即幫你實作前 5 項功能，請告訴我：
1. 要現在開始實作嗎？
2. 有其他想要的功能嗎？
3. 哪些功能最重要？

---

© 2025 快閃餐車小幫手 · 系統功能增強建議

