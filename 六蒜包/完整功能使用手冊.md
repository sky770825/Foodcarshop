# 🎉 六蒜包·餐車訂購系統 - 完整功能使用手冊

## 📊 工作表完整結構（最新版）

### **場地庫存工作表**（例如：`venue_a_庫存管理`）

| 欄位 | 說明 | 範例 | 必填 | 功能 |
|------|------|------|------|------|
| **A** | 商品名稱 | 六蒜包 | ✅ | 商品識別 |
| **B** | 類型 | main / side | ✅ | 主餐/配菜 |
| **C** | 當前庫存 | 10 | ✅ | 即時庫存 |
| **D** | 初始庫存 | 20 | ✅ | 重置參考 |
| **E** | 狀態 | 正常 / 暫停 | ✅ | 是否販售 |
| **F** | 分類 | 主食 / 配菜 | ✅ | 商品分類 |
| **G** | 圖片網址 | https://... | ⚠️ | 商品照片 |
| **H** | 原價 | 30 | ⚠️ | 正常售價 |
| **I** | 優惠價 | 25 | ⭐ | 特價/促銷 |
| **J** | 優惠標籤 | 限時特價 | ⭐ | 促銷訊息 |
| **K** | 排序順序 | 1 | ⭐ | 顯示順序 |
| **L** | 推薦標籤 | 熱銷 | ⭐ | 熱銷/新品 |
| **M** | 商品描述 | 酥脆外皮... | ⭐ | 詳細說明 |
| **N** | 每日限量 | 20 | ⭐ | 稀缺感 |

---

## 🎯 功能 1：商品排序（K 欄）

### **功能說明**
控制商品在前端的顯示順序，讓熱銷商品永遠顯示在最前面。

### **使用方法**

#### **範例 1：設定顯示順序**

| A 欄（品名）| K 欄（排序）| 說明 |
|-----------|-----------|------|
| 六蒜包 | **1** | 第 1 個顯示 |
| 招牌蛋塔 | **2** | 第 2 個顯示 |
| 丹麥手撕包 | **3** | 第 3 個顯示 |
| 千層吐司 | **10** | 第 10 個顯示 |
| 新品麵包 | （空白） | 最後顯示（預設 999） |

**前端顯示順序：**
```
六蒜包 → 招牌蛋塔 → 丹麥手撕包 → ... → 千層吐司 → 新品麵包
```

### **最佳實踐**

1. **招牌商品**：設定為 1-5（最前面）
2. **熱銷商品**：設定為 6-10
3. **普通商品**：設定為 11-50
4. **新品測試**：不填（自動排到最後）

### **技術細節**

後端自動排序：
```javascript
products.sort((a, b) => (a.sortOrder || 999) - (b.sortOrder || 999));
```

---

## 🌟 功能 2：推薦標籤（L 欄）

### **功能說明**
在商品卡片右上角顯示徽章，突出熱銷、新品、招牌等商品。

### **支援的標籤**

| 標籤文字 | 顯示效果 | 顏色 | 適用情境 |
|---------|---------|------|---------|
| **熱銷** | 🔥 熱銷 | 橙色 | 銷量最好的商品 |
| **新品** | ✨ 新品 | 綠色 | 新推出的商品 |
| **招牌** | 👑 招牌 | 紫色 | 店家招牌商品 |
| **限量** | ⏰ 限量 | 紅色 | 數量有限的商品 |
| **推薦** | ⭐ 推薦 | 藍色 | 店家推薦商品 |

### **使用範例**

| A 欄（品名）| L 欄（推薦標籤）| 前端顯示 |
|-----------|---------------|---------|
| 六蒜包 | 熱銷 | 🔥 熱銷（橙色徽章） |
| 新品蛋塔 | 新品 | ✨ 新品（綠色徽章） |
| 招牌包子 | 招牌 | 👑 招牌（紫色徽章） |
| 限量麵包 | 限量 | ⏰ 限量（紅色徽章） |

### **視覺效果**

```
┌─────────────────────────┐
│ 🏷️ 限時特價  🔥 熱銷  │ ← 左上：優惠標籤，右上：推薦標籤
│  ┌─────────────────┐   │
│  │   [商品圖片]     │   │
│  └─────────────────┘   │
│  六蒜包        ~~$30~~ │
│                  $25    │
└─────────────────────────┘
```

### **注意事項**

⚠️ **標籤文字必須完全一致**（區分大小寫）：
- ✅ 正確：`熱銷`
- ❌ 錯誤：`热销`、`熱賣`、`热卖`

---

## 📝 功能 3：商品描述（M 欄）

### **功能說明**
為商品添加詳細說明，點擊商品圖片時顯示描述對話框。

### **使用方法**

#### **在工作表填入描述：**

| A 欄（品名）| M 欄（商品描述）|
|-----------|---------------|
| 六蒜包 | 酥脆外皮，濃郁蒜香，招牌熱銷商品。每日新鮮現做，限量供應。|
| 千層吐司 | 手工千層，入口即化，奶香四溢。使用紐西蘭進口奶油製作。|
| 招牌蛋塔 | 葡式蛋塔，外酥內嫩。獨家配方，不添加人工香料。|

#### **前端顯示邏輯：**

```
如果 M 欄有描述：
  → 點擊圖片 → 顯示描述對話框（包含圖片、品名、描述）
  
如果 M 欄沒有描述：
  → 點擊圖片 → 放大圖片（原功能）
```

### **描述對話框範例**

```
┌──────────────────────────────┐
│ [放大的商品圖片]              │
├──────────────────────────────┤
│ 六蒜包                        │
│                               │
│ 酥脆外皮，濃郁蒜香，          │
│ 招牌熱銷商品。                │
│ 每日新鮮現做，限量供應。      │
│                               │
│    [ 關閉 ]                   │
└──────────────────────────────┘
```

### **撰寫建議**

1. **字數控制**：20-50 字最佳
2. **突出特色**：說明商品最大賣點
3. **情感連結**：使用「新鮮現做」、「手工製作」等詞彙
4. **誠實描述**：不誇大，建立信任

---

## ⏰ 功能 4：每日限量（N 欄）

### **功能說明**
顯示「每日限量 XX 份」，製造稀缺感，提升購買慾望。

### **使用方法**

| A 欄（品名）| C 欄（庫存）| N 欄（每日限量）| 前端顯示 |
|-----------|------------|----------------|---------|
| 限量蛋塔 | 5 | 20 | ⏰ 每日限量 20 份 |
| 招牌包子 | 8 | 30 | ⏰ 每日限量 30 份 |
| 普通麵包 | 50 | （空白） | （不顯示限量） |

### **顯示位置**

```
┌─────────────────────────┐
│  [商品圖片]             │
│                         │
│  限量蛋塔               │
│  庫存(5/20)      $25   │
│  ⏰ 每日限量 20 份      │ ← 顯示在品名下方（紅色）
│                         │
│  [ - ]  [ 0 ]  [ + ]   │
└─────────────────────────┘
```

### **適用場景**

1. **真實限量商品**：手工製作，每日產量有限
2. **營銷策略**：製造稀缺感，刺激購買
3. **新品測試**：限量試賣，觀察市場反應

### **注意事項**

⚠️ **誠信原則：**
- 如果填寫「每日限量 20 份」，請確保真的只做 20 份
- 不要虛假標示，會損害品牌信譽

---

## 💰 功能 5：最低消費金額

### **功能說明**
設定訂單的最低消費金額，避免訂單金額過低。

### **設定方法**

#### **在「系統設定」工作表新增一行：**

| A 欄（設定項目）| B 欄（設定值）|
|---------------|-------------|
| 最低消費金額 | 100 |

#### **效果：**
- 訂單金額 < $100 → 無法送出
- 訂單金額 ≥ $100 → 可以送出

### **錯誤提示範例**

```
⚠️ 訂單金額未達最低消費
目前金額：$60
最低消費：$100
請再加購 $40 即可送出訂單
```

### **建議設定值**

| 業務類型 | 建議最低消費 | 理由 |
|---------|------------|------|
| 外送服務 | $150-200 | 覆蓋配送成本 |
| 自取服務 | $50-100 | 鼓勵多買 |
| 團購預訂 | $200-500 | 提高訂單價值 |
| 無限制 | 0 | 不設門檻 |

### **技術細節**

```javascript
// 前端檢查
if (MIN_ORDER_AMOUNT > 0 && total < MIN_ORDER_AMOUNT) {
  alert(`訂單金額未達最低消費 $${MIN_ORDER_AMOUNT}`);
  return;
}
```

---

## 🎨 完整視覺效果示範

### **商品卡片（包含所有新功能）：**

```
┌─────────────────────────────┐
│ 🏷️ 限時特價      🔥 熱銷   │ ← 左上：優惠標籤，右上：推薦標籤
│  ┌────────────────────┐    │
│  │                    │    │
│  │   [商品圖片]        │    │  ← 點擊查看描述
│  │                    │    │
│  └────────────────────┘    │
│                             │
│  六蒜包          ~~$30~~    │ ← 原價划線
│  庫存(10/20)       $25     │ ← 優惠價紅色
│  ⏰ 每日限量 20 份          │ ← 限量提示
│                             │
│  [ - ]   [ 0 ]   [ + ]     │
└─────────────────────────────┘
```

---

## 📋 快速設定清單

### **Step 1: 填寫基本資料**
- ✅ A 欄：商品名稱
- ✅ B 欄：類型（main/side）
- ✅ C 欄：當前庫存
- ✅ D 欄：初始庫存
- ✅ E 欄：狀態（正常）
- ✅ F 欄：分類
- ✅ G 欄：圖片網址

### **Step 2: 填寫價格資訊**
- ✅ H 欄：原價（必填）
- ⭐ I 欄：優惠價（有促銷時填）
- ⭐ J 欄：優惠標籤（例如：限時特價）

### **Step 3: 填寫進階功能**
- ⭐ K 欄：排序順序（1, 2, 3...）
- ⭐ L 欄：推薦標籤（熱銷/新品/招牌）
- ⭐ M 欄：商品描述（20-50字）
- ⭐ N 欄：每日限量（數字）

### **Step 4: 設定系統參數**

在「系統設定」工作表新增：

| A 欄 | B 欄 |
|------|------|
| 最低消費金額 | 100 |

---

## 🎯 實際應用範例

### **範例 1：熱銷招牌商品（使用所有功能）**

| A | B | C | D | E | F | G | H | I | J | K | L | M | N |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 六蒜包 | main | 15 | 30 | 正常 | 主食 | https://... | 30 | 25 | 限時特價 | **1** | **熱銷** | 酥脆外皮，濃郁蒜香 | **30** |

**前端效果：**
- 🏷️ 限時特價（左上角）
- 🔥 熱銷（右上角）
- 排序第 1 位（最前面）
- ~~$30~~ **$25**（優惠價）
- ⏰ 每日限量 30 份
- 點擊圖片查看描述

---

### **範例 2：新品測試商品**

| A | B | C | D | E | F | G | H | I | J | K | L | M | N |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 新品蛋塔 | main | 10 | 10 | 正常 | 甜點 | https://... | 35 | 30 | 新品優惠 | **5** | **新品** | 葡式蛋塔，外酥內嫩 | **10** |

**前端效果：**
- 🏷️ 新品優惠
- ✨ 新品
- 排序第 5 位
- ~~$35~~ **$30**
- ⏰ 每日限量 10 份

---

### **範例 3：普通商品（無優惠）**

| A | B | C | D | E | F | G | H | I | J | K | L | M | N |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 千層吐司 | main | 20 | 50 | 正常 | 主食 | https://... | 40 | | | 20 | | 手工千層，入口即化 | |

**前端效果：**
- 排序第 20 位
- **$40**（正常價格）
- 點擊圖片查看描述
- 無限量提示

---

## 🚀 部署步驟

### **Step 1: 更新 Google Sheets**

1. 打開場地庫存工作表（例如：`venue_a_庫存管理`）
2. 在現有欄位後面新增 K、L、M、N 欄
3. 填入相應數據

### **Step 2: 更新系統設定**

1. 打開「系統設定」工作表
2. 新增一行：
   - A 欄：`最低消費金額`
   - B 欄：`100`（或其他金額）

### **Step 3: 重新部署後端**

1. 打開 Google Apps Script 編輯器
2. 複製更新後的 `Google_Apps_Script_後端_多場地版.js`
3. 部署新版本

### **Step 4: 測試功能**

1. 刷新前端網頁
2. 選擇場地
3. 檢查以下功能：
   - ✅ 商品按排序順序顯示
   - ✅ 推薦標籤正確顯示
   - ✅ 點擊圖片顯示描述
   - ✅ 每日限量提示顯示
   - ✅ 提交低於最低消費的訂單被攔截

---

## 📊 數據流程總覽

```
Google Sheets（場地庫存工作表）
  ↓
讀取 A-N 共 14 個欄位
  ↓
後端 API 處理
  ├─ 價格處理（優惠價優先）
  ├─ 排序處理（K 欄排序）
  └─ 數據整合
  ↓
返回 JSON
  ↓
前端接收並渲染
  ├─ 按排序順序顯示商品
  ├─ 顯示推薦標籤（右上角）
  ├─ 顯示優惠標籤（左上角）
  ├─ 顯示優惠價（划線原價）
  ├─ 顯示每日限量提示
  └─ 點擊圖片查看描述
  ↓
用戶下單
  ↓
檢查最低消費金額
  ├─ 未達標 → 提示加購
  └─ 已達標 → 送出訂單
```

---

## 🎯 推薦設定組合

### **組合 1：招牌熱銷商品**
```
K 欄（排序）= 1
L 欄（推薦）= 熱銷
M 欄（描述）= 招牌商品，每日新鮮現做
N 欄（限量）= 30
```

### **組合 2：限時促銷商品**
```
H 欄（原價）= 30
I 欄（優惠價）= 25
J 欄（優惠標籤）= 限時特價
K 欄（排序）= 2
L 欄（推薦）= 推薦
```

### **組合 3：新品測試商品**
```
K 欄（排序）= 5
L 欄（推薦）= 新品
M 欄（描述）= 全新推出，限量試賣
N 欄（限量）= 10
I 欄（優惠價）= 優惠價（新品優惠）
J 欄（優惠標籤）= 新品優惠
```

---

## 💡 常見問題

### Q1：可以同時顯示優惠標籤和推薦標籤嗎？

可以！
- 優惠標籤（J 欄）顯示在**左上角**（紅色）
- 推薦標籤（L 欄）顯示在**右上角**（各種顏色）

### Q2：排序順序可以重複嗎？

可以。如果多個商品排序相同，系統會按照工作表中的順序顯示。

### Q3：如果不填某些欄位會怎樣？

沒問題！所有新功能都是**選填**：
- 不填 K 欄 → 自動排到最後（sortOrder = 999）
- 不填 L 欄 → 不顯示推薦標籤
- 不填 M 欄 → 點擊圖片就是放大圖片
- 不填 N 欄 → 不顯示限量提示

### Q4：最低消費設定為 0 會怎樣？

沒有影響，不會檢查最低消費。

---

## 🎉 系統功能總覽

### **完整功能列表：**

✅ 多場地管理（5個場地）  
✅ 獨立庫存與訂單  
✅ 商品圖片顯示（G 欄）  
✅ 原價與優惠價（H、I 欄）  
✅ 優惠標籤（J 欄）  
✅ 商品排序（K 欄）  
✅ 推薦標籤（L 欄）- 🔥熱銷、✨新品、👑招牌  
✅ 商品描述（M 欄）- 點擊查看  
✅ 每日限量（N 欄）  
✅ 最低消費金額檢查  
✅ 場地工作表自動同步  
✅ 庫存即時更新  
✅ 訂單修改功能  
✅ 統計報表  

---

## 📞 技術支援

如有問題，請聯繫：**快閃餐車小幫手**  
LINE: https://lin.ee/YyXagFg

---

© 2025 快閃餐車小幫手 · 完整功能使用手冊 v2.0

